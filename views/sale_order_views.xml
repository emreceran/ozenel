<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="product_template_form_view_inherit_ozenel" model="ir.ui.view">
      <field name="name">product.template.form.inherit.ozenel</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="product.product_template_form_view"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='standard_price']" position="after">
          <field name="maliyet_carpani"/>
        </xpath>
      </field>
    </record>

    <!-- Satış Teklifi Form Görünümüne Para Birimi Alanları -->
    <record id="view_order_form_currency" model="ir.ui.view">
      <field name="name">sale.order.form.currency.selection</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//group" position="inside">
          <group string="Döviz Kurları" col="4">
            <field name="usd_rate" readonly="state not in ('draft','sent')"/>
            <field name="eur_rate" readonly="state not in ('draft','sent')"/>
            <newline/>
            <button name="action_recalculate_price_units"
                    string="Satır Fiyatlarını Güncelle"
                    type="object"
                    class="btn btn-primary"
                    invisible="state not in ('draft','sent')"/>
          </group>

        </xpath>

        <xpath expr="//button[@name='action_update_prices']" position="attributes">
          <attribute name="invisible">True</attribute>
        </xpath>

      </field>
    </record>

    <!-- Satır Liste Görünümüne Tedarikçi Fiyat Alanları -->
    <record id="view_order_form_inherit_ozenel" model="ir.ui.view">
      <field name="name">sale.order.form.inherit.ozenel</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='order_line']/list/field[@name='price_unit']" position="before">
          <field name="x_brand_name" string="Marka" optional="show"/>
          <field name="tedarikci_currency_id"/>
          <field name="tedarikci_fiyat" widget="monetary" options="{'currency_field': 'tedarikci_currency_id'}"/>
          <field name="tedarikci_indirim_yuzdesi"/>
          <field name="tedarikci_maliyet_para_birimli" widget="monetary" options="{'currency_field': 'tedarikci_currency_id'}"/>
          <field name="purchase_price_currency_id" column_invisible="1"/>
          <field name="maliyet_carpani" optional="show"/>

          <field name="purchase_price" widget="monetary" options="{'currency_field': 'purchase_price_currency_id'}"/>
          <field name="margin_yeni" string="Kar (%)" optional="show"/>


        </xpath>

        <xpath expr="//field[@name='order_line']/form//field[@name='tax_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

        <xpath expr="//field[@name='order_line']/form//field[@name='product_uom']" position="attributes">
          <attribute name="string">Birim</attribute>
        </xpath>

        <xpath expr="//field[@name='name']" position="attributes">
          <attribute name="readonly">0</attribute>
        </xpath>


      </field>
    </record>

      <!-- Satır Liste Görünümüne Tedarikçi Fiyat Alanları -->
    <record id="view_purchase_order_form_inherit_ozenel" model="ir.ui.view">
      <field name="name">purchase.order.form.inherit.ozenel</field>
      <field name="model">purchase.order</field>
      <field name="inherit_id" ref="purchase.purchase_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//field[@name='order_line']/list/field[@name='name']" position="after">
          <field name="x_brand_name" string="Marka" optional="show"/>


        </xpath>



      </field>
    </record>

     <record id="sale_order_search_view_inherit_add_archive_filter" model="ir.ui.view">
            <field name="name">sale.order.search.add.archive.filter</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.sale_order_view_search_inherit_quotation"/>
            <field name="arch" type="xml">
                <xpath expr="//search/field[@name='partner_id']" position="after">
                    <separator/>
                    <filter string="Arşivlenenler" name="archived" domain="[('active', '=', False)]"/>
                    <separator/>
                </xpath>
            </field>
        </record>






  </data>
</odoo>

